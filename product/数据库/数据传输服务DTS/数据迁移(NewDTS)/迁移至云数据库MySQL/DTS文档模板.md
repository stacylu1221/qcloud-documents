# 1、数据迁移支持的数据库类型

| 数据流向                        | 迁移方向 | 源数据库类型及版本 | 目标数据库类型及版本 | 目标库实例类型 | 迁移类型                           |
|---------------------------------|----------|--------------------|----------------------|----------------|------------------------------------|
| MySQL数据库-\>云数据库MySQL实例 | 入云     | 本地自建数据库     | MySQL 5.5.x/5.6.x    | 主备实例       | 结构迁移 全量数据迁移 增量数据迁移 |

# 2、数据同步支持的数据库类型

| 数据流向                        | 同步方向 | 源数据库类型及版本 | 目标数据库类型及版本      | 同步类型            | 同步方向 |
|---------------------------------|----------|--------------------|---------------------------|---------------------|----------|
| MySQL数据库-\>RDS for MySQL实例 | 入云     | 本地自建数据库     | 云数据库MySQL 5.5.x/5.6.x | 增量 全量 全量+增量 | 单向     |

# 3、迁移场景模板

## 注意事项

*从整体业务层面的注意事项，对用户的影响。*

-   DTS
    在执行全量数据迁移时，会占用一定源端实例资源，可能会导致源实例负载上升，增加数据库自身压力。如果您数据库配置过低，建议您在业务低峰期进行迁移。

-   源端 MySQL
    中待迁移的表支持没有主键或唯一索引，并且不会导致目标数据库中出现重复数据。在全量迁移过程通过有锁迁移来实现，锁表过程中会短暂阻塞写入操作。

## 应用限制

*从功能维度暂不支持的（如果限制较多，按照不同维度来列，如源数据库限制、迁移对象限制、目标数据库限制等）。*

-   目前只支持迁移源库的数据，不支持迁移源库表结构及其他数据库对象。

-   xxx

## 操作要求

*主要是操作过程中的一些注意事项和限制。*

-   迁移过程中，不允许修改、删除连接源和目标数据库的用户的用户名、密码、权限，或修改源和目标数据库的端口号。

## 环境要求

| 类型           | 环境要求                                                                                                                                                                                                                                                                     |
|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 权限要求       | 全量迁移最小权限要求： 源数据库帐户需要具备如下权限：SELECT、SHOW VIEW、……。 目标中间件帐户需要具备以下基本权限：*（如果有则列出）* 全量+增量迁移最小权限要求： 源数据库帐户需要具备如下权限：SELECT、SHOW VIEW、……。 目标中间件帐户需要具备以下基本权限：*（如果有则列出）* |
| 源数据库要求   | 增量迁移时，MySQL源数据库的binlog日志必须打开，且binlog日志格式必须为Row格式。                                                                                                                                                                                               |
| 目标数据库要求 |                                                                                                                                                                                                                                                                              |
| 其他要求       |                                                                                                                                                                                                                                                                              |

## 支持的SQL 操作

| 操作类型 | SQL 操作语句 |
|----------|--------------|
| DML      | xxx          |

## 操作步骤

*如果操作步骤无特殊性，做链接引用通用场景的示例，如果场景特殊则单独给出操作步骤。*不同场景的数据迁移操作步骤类型，请参考xx。

# 4、同步场景模板

<https://cloud.tencent.com/document/product/571/56516>参考之前的文档写作模式，结构按照现有的框架调整。

## 注意事项

*从整体业务层面的注意事项，对用户的影响。*

-   DTS
    在执行全量数据迁移时，会占用一定源端实例资源，可能会导致源实例负载上升，增加数据库自身压力。如果您数据库配置过低，建议您在业务低峰期进行。

-   xx

## 应用限制

*从功能维度暂不支持的（如果限制较多，按照不同维度来列，如源数据库限制、迁移对象限制、目标数据库限制等）。*

-   支持表、主键索引、唯一索引、普通索引、存储过程、视图、函数的同步，不支持事件、触发器的同步。

-   Xx

## 操作要求

*主要是操作过程中的一些注意事项和限制。*

-   实时同步过程中，如果修改了源库或者目标库端口，会导致同步任务失败。

## 环境要求

| 类型           | 环境要求                                                                                                    |
|----------------|-------------------------------------------------------------------------------------------------------------|
| 权限要求       | 源数据库帐户需要具备如下权限：SELECT、SHOW VIEW、……。 源数据库帐户需要具备如下权限：SELECT、SHOW VIEW、……。 |
| 源数据库要求   | 增量迁移时，MySQL源数据库的binlog日志必须打开，且binlog日志格式必须为Row格式。                              |
| 目标数据库要求 |                                                                                                             |
| 其他要求       | 数据库的连接 实例要求 环境变量 等等                                                                         |

## 支持的SQL操作

| 操作类型 | SQL 操作语句                                                                                                                                                                      |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DML      | INSERT、UPDATE、DELETE                                                                                                                                                            |
| DDL      | CREATE DATABASE、DROP DATABASE、ALTER DATABASE、CREATE TABLE、ALTER TABLE、DROP TABLE、TRUNCATE TABLE、RENAEM TABLE、CREATE VIEW、ALTER VIEW、DROP VIEW、CREATE INDEX、DROP INDEX |

## 操作步骤

*参考之前的场景，如果没有特殊操作，操作步骤都一样。*

不同场景的数据迁移操作步骤类型，请参考xx。
